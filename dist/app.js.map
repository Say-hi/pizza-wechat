{"version":3,"sources":["app.js"],"names":["useUrl","require","wxParse","App","data","name","basedomain","call","phoneNumber","wx","makePhoneCall","gML","that","_that","_this","wxrequest","url","getUserMessageLists","session_key","gs","page","date_time","Date","getFullYear","getMonth","getDate","success","res","hideLoading","code","count","v","parseInt","is_look","setData","messageCount","setToast","content","message","WP","title","type","image","moment","time","Moment","fromNow","wxpay","obj","objs","timeStamp","nonceStr","package","signType","paySign","console","log","fail","err","errMsg","complete","requestPayment","wxUploadImg","cb","chooseImage","showLoading","tempFilePaths","uploadFile","uploadPhotos","filePath","formData","file","imgUrl","JSON","parse","res_file","wxUpload","s","header","request","user","method","setTimeout","getCurrentPages","login","getUserInfo","lang","res2","res3","setStorageSync","session3rd","length","onLoad","options","showToast","wxlogin","loginSuccess","params","getStorageSync","checkObj","userInfo","recommendId","id","pid","session","key","setMore","more","withCredentials","gu","su","getMessageCount","self","gmc","getNotReadMessage","mCount","inputValue","e","value","detail","currentTarget","dataset","loginInput","pwd","money","phone","idCard","contentTwo","buddingText","contentOne","goHBdetail","navigateTo","checkMobile","mobile","test","toast","defaultToast","show","bgc","color","Object","assign","setGzh","gzh","setClipboardData","closeGzh","showImg","imgArr","index","previewImage","current","urls","gn","redirectTo","setBar","text","setNavigationBarTitle","getLocation","reverseGeocoder","getUrl","search","onLaunch","onShow","onHide"],"mappings":"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B,EAAiCsB,EAAjC;AACD,GA9jBC;;AA+jBF;AACAgG,QAhkBE,oBAgkBQ;AACR,WAAO/J,MAAP;AACD,GAlkBC;;AAmkBF;AACAgK,QApkBE,kBAokBMvH,IApkBN,EAokBYJ,OApkBZ,EAokBqB;AACrB5B,OAAG0H,UAAH,CAAc;AACZnH,oDAA4CyB,IAA5C,iBAA4DJ;AADhD,KAAd;AAGD,GAxkBC;;AAykBF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA4H,UAloBE,sBAkoBU;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACD,GAzpBC;;AA0pBF;;;;AAIAC,QA9pBE,oBA8pBQ;AACR;AACD,GAhqBC;;AAiqBF;;;;AAIAC,QArqBE,oBAqqBQ;AACR;AACD;AAvqBC,CAAJ","file":"app.js","sourcesContent":["// const wechat = require('./utils/wechat')\n// const Promise = require('./utils/bluebird')\n/*eslint-disable*/\nconst useUrl = require('./utils/service')\nconst wxParse = require('./wxParse/wxParse')\n// const bgMusic = wx.getBackgroundAudioManager()\n// const updateManager = wx.getUpdateManager()\n//\n// updateManager.onCheckForUpdate(function (res) {\n//   // 请求完新版本信息的回调\n//   console.log(res.hasUpdate)\n// })\n//\n// updateManager.onUpdateReady(function () {\n//   // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n//   updateManager.applyUpdate()\n// })\n// updateManager.onUpdateFailed(function () {\n//   // 新的版本下载失败\n// })\n// const QQMapWX = require('./utils/qmapsdk')\n// const qqmapsdkkey = '5YBBZ-LHYWP-NVGD6-LHZB3-GTWYK-TQBRO'\n// let qqmapsdk\n// const Moment = require('./utils/moment')\n// Moment.locale('en', {\n//   relativeTime : {\n//     future: '差 %s',\n//     past:   '%s前',\n//     s:  '几秒',\n//     m:  '一分钟',\n//     mm: '%d分钟',\n//     h:  '一小时',\n//     hh: '%d小时',\n//     d:  '一天',\n//     dd: '%d天',\n//     M:  '一个月',\n//     MM: '%d月',\n//     y:  '一年',\n//     yy: '%d年'\n//   }\n// })\n// bindload=\"wxParseImgLoad\"\n// moment.locale('zh-cn')\nApp({\n  data: {\n    name: '披萨点餐小程序',\n    basedomain: 'http://group.lanzhangxiu.cn'\n  },\n  call (phoneNumber = '13378692079') {\n    wx.makePhoneCall({\n      phoneNumber\n    })\n  },\n  // 获取消息数目\n  gML (that) {\n    let _that = that\n    let _this = this\n    _this.wxrequest({\n      url: useUrl.getUserMessageLists,\n      data: {\n        session_key: _this.gs(),\n        page: 1,\n        date_time: (new Date().getFullYear() + '-' + ((new Date().getMonth() * 1 + 1) < 10 ? '0' + (new Date().getMonth() * 1 + 1) : (new Date().getMonth() * 1 + 1)) + '-' + ((new Date().getDate() * 1) < 10 ? '0' + (new Date().getDate()) : (new Date().getDate())))\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.code === 200) {\n          let count = 0\n          for (let v of res.data.data) {\n            if (parseInt(v.is_look) === 0) {\n              count++\n            }\n          }\n          _that.setData({\n            messageCount: count\n          })\n        } else {\n          _this.setToast(that, {content: res.data.message})\n        }\n      }\n    })\n  },\n  // 富文本解析\n  WP (title, type, data, that, image) {\n    wxParse.wxParse(title, type, data, that, image)\n  },\n  // 解析时间\n  moment (time) {\n    return Moment(time, 'YYYYMMDD HH:mm:ss').fromNow()\n  },\n  // 发起微信支付\n  wxpay (obj) {\n    let objs = {\n      timeStamp: obj.timeStamp,\n      nonceStr: obj.nonceStr,\n      package: obj.package,\n      signType: obj.signType || 'MD5',\n      paySign: obj.paySign,\n      success: obj.success || function (res) {\n        console.log('未传入success回调函数', res)\n      },\n      fail: obj.fail || function (err) {\n        console.log('未传入fail回调函数,err:', err.errMsg)\n      },\n      complete: obj.complete || function () {}\n    }\n    wx.requestPayment(objs)\n  },\n  // 选择图片上传\n  wxUploadImg (cb, count = 1) {\n    let _that = this\n    wx.chooseImage({\n      count,\n      success (res) {\n        wx.showLoading({\n          title: '图片上传中'\n        })\n        for (var v of res.tempFilePaths) {\n          wx.uploadFile({\n            url: useUrl.uploadPhotos,\n            filePath: v,\n            name: 'file',\n            formData: {\n              session_key: _that.gs(),\n              file: 'file'\n            },\n            success (res) {\n              // console.log(res)\n              let imgUrl = JSON.parse(res.data).data.res_file\n              wx.hideLoading()\n              if (cb) {\n                cb(imgUrl)\n              }\n            }\n          })\n        }\n      }\n    })\n  },\n  // 上传媒体文件\n  wxUpload (obj) {\n    let s = {\n      url: obj.url,\n      filePath: obj.filePath,\n      name: obj.name || 'file',\n      header: {\n        'content-type' : 'multipart/form-data'\n      },\n      formData: obj.formData,\n      success: obj.success || function (res) {\n        console.log('未传入成功回调函数', res)\n      },\n      fail: obj.fail || function (res) {\n        console.log('为传入失败回调函数', res)\n      },\n      complete: obj.complete || function () {}\n    }\n    wx.uploadFile(s)\n  },\n  // 请求数据\n  wxrequest (obj) {\n    let that = this\n    wx.showLoading({\n      title: '请求数据中...'\n      // mask: true\n    })\n    wx.request({\n      url: obj.url || useUrl.user,\n      method: obj.method || 'POST',\n      data: obj.data || {},\n      header: {\n        // 'content-type': obj.header || 'application/x-www-form-urlencoded'\n        'content-type': obj.header || 'application/json'\n      },\n      success: obj.success || function () {\n        console.log('未传入success回调函数')\n      },\n      fail: obj.fail || function (err) {\n        console.log('未传入fail回调函数,err:' + err.errMsg)\n      },\n      complete: obj.complete || function (res) {\n        // console.log(res)\n        // sessionId 失效\n        if (res.data.code === '000') {\n          setTimeout(() => {\n            if (!that.gs()) {\n              let page = getCurrentPages()\n              wx.login({\n                success (res) {\n                  if (res.code) {\n                    wx.getUserInfo({\n                      lang: 'zh_CN',\n                      success (res2) {\n                        console.log(res2)\n                        that.wxrequest({\n                          url: useUrl.login,\n                          data: {\n                            code: res.code,\n                            res2: res2\n                            // iv: res2.iv,\n                            // encryptedData: res2.encryptedData\n                          },\n                          success (res3) {\n                            console.log(1)\n                            wx.setStorageSync('session_key', res3.data.data.session3rd)\n                            wx.setStorageSync('shop', res.data.data)\n                            page[(page.length - 1) >= 0 ? (page.length - 1) : 0].onLoad(page[(page.length - 1) >= 0 ? (page.length - 1) : 0].options)\n                          }\n                        })\n                      },\n                      fail (err) {\n                        wx.showToast({\n                          title: '用户拒绝授权'\n                        })\n                      }\n                    })\n                  } else {\n                    wx.showToast({\n                      title: '请删除小程序后，重新打开并授权'\n                    })\n                  }\n                }\n              })\n            } else {\n              wx.login({\n                success (res) {\n                  if (res.code) {\n                    wx.getUserInfo({\n                      lang: 'zh_CN',\n                      success (res2) {\n                        that.wxrequest({\n                          url: useUrl.login,\n                          data: {\n                            code: res.code,\n                            res2: res2\n                            // iv: res2.iv,\n                            // encryptedData: res2.encryptedData\n                          },\n                          success (res3) {\n                            console.log(2)\n                            wx.setStorageSync('session_key', res3.data.data.session3rd)\n                            wx.setStorageSync('shop', res.data.data)\n                            obj.data.session3rd = that.gs()\n                            that.wxrequest(obj)\n                          }\n                        })\n                      },\n                      fail (err) {\n                        wx.showToast({\n                          title: '用户拒绝授权'\n                        })\n                      }\n                    })\n                  } else {\n                    wx.showToast({\n                      title: '请删除小程序后，重新打开并授权'\n                    })\n                  }\n                }\n              })\n            }\n          }, 300)\n        }\n      }\n    })\n  },\n  // 用户登陆\n  wxlogin (loginSuccess, params) {\n    let that = this\n    if (wx.getStorageSync('session_key')) {\n      let checkObj = {\n        url: useUrl.user,\n        data: {\n          session3rd: wx.getStorageSync('session_key')\n        },\n        success (res) {\n          wx.hideLoading()\n          // session失效\n          if (res.data.code === '000') {\n            console.log('session_key失效')\n            // 无条件获取登陆code\n            wx.login({\n              success (res) {\n                // console.log(res)\n                let code = res.code\n                // 获取用户信息\n                let obj = {\n                  success (data) {\n                    wx.setStorageSync('userInfo', data.userInfo)\n                    // let iv = data.iv\n                    // let encryptedData = data.encryptedData\n                    let recommendId = ''\n                    if (params) {\n                      recommendId: params.id\n                    }\n                    // let res2 = []\n                    // for (let i in data.userInfo) {\n                    //   // console.log(i)\n                    //   let obj = {}\n                    //   obj[i] = data.userInfo[i]\n                    //   res2.push(obj)\n                    // }\n                    // 获取session_key\n                    let objs = {\n                      url: useUrl.login,\n                      data: {\n                        pid: recommendId || 1,\n                        code: code,\n                        res2: data\n                        // iv: iv,\n                        // encryptedData: encryptedData\n                      },\n                      header: 'application/json',\n                      success (res) {\n                        // let session_key = 'akljgaajgoehageajnafe'\n                        // console.log(res)\n                        wx.setStorageSync('session_key', res.data.data.session3rd)\n                        wx.setStorageSync('shop', res.data.data)\n                        // console.log(session)\n                        // if (loginSuccess) {\n                        if (loginSuccess) {\n                          loginSuccess(params)\n                        }\n                      }\n                    }\n                    that.wxrequest(objs)\n                  },\n                  fail (res) {\n                    console.log(res)\n                    wx.showToast({\n                      title: '您未授权小程序,请授权登陆'\n                    })\n                  }\n                }\n                that.getUserInfo(obj)\n              },\n              fail (err) {\n                console.log('loginError' + err)\n              }\n            })\n          } else {\n            console.log('session_key有效')\n            if (loginSuccess) {\n              loginSuccess(params)\n            }\n          }\n        }\n      }\n      that.wxrequest(checkObj)\n    } else {\n      console.log('无条件获取登陆code')\n      // 无条件获取登陆code\n      wx.login({\n        success (res) {\n          // console.log(res)\n          let code = res.code\n          // 获取用户信息\n          let obj = {\n            success (data) {\n              wx.setStorageSync('userInfo', data.userInfo)\n              // let iv = data.iv\n              // let encryptedData = data.encryptedData\n              let recommendId = ''\n              if (params) {\n                recommendId: params.id\n              }\n              // 获取session_key\n              // console.log(data.userInfo)\n              // let res2 = []\n              // for (let i in data.userInfo) {\n              //   // console.log(i)\n              //   let obj = {}\n              //   obj[i] = data.userInfo[i]\n              //   res2.push(obj)\n              // }\n              // console.log(res2)\n              let objs = {\n                url: useUrl.login,\n                data: {\n                  pid: recommendId || 1,\n                  code,\n                  res2: data\n                  // iv,\n                  // encryptedData\n                },\n                header: 'application/json',\n                success (session) {\n                  wx.hideLoading()\n                  // let s = 'DUGufWMOkMIolSIXLajTvCEvXAYQZwSpnafUVlSagdNEReVSRDAECzwEVAtFbPWg'\n                  wx.setStorageSync('session_key', session.data.data.session3rd)\n                  wx.setStorageSync('shop', session.data.data)\n                  // wx.setStorageSync('session_key', s)\n                  if (loginSuccess) {\n                    loginSuccess(params)\n                  }\n                }\n              }\n              that.wxrequest(objs)\n            },\n            fail () {\n              wx.showToast({\n                title: '您未授权小程序,请授权登陆'\n              })\n            }\n          }\n          that.getUserInfo(obj)\n        },\n        fail (err) {\n          console.log('loginError' + err)\n        }\n      })\n    }\n  },\n  // 获取缓存session_key\n  gs (key) {\n    return wx.getStorageSync(key || 'session_key')\n  },\n  // 设置页面是否加载\n  setMore (params, that) {\n    if (params.length === 0) {\n      that.setData({\n        more: false\n      })\n    } else {\n      that.setData({\n        more: true\n      })\n    }\n  },\n  // 获取用户信息\n  getUserInfo (obj) {\n    wx.getUserInfo({\n      withCredentials: obj.withCredentials || true,\n      lang: obj.lang || 'zh_CN',\n      success: obj.success || function (res) {\n        console.log('getUserInfoSuccess', res)\n      },\n      fail: obj.fail || function (res) {\n        console.log('getUserInfoFail', res)\n      }\n    })\n  },\n  // 获取用户缓存信息\n  gu (cb) {\n    if(wx.getStorageSync('userInfo')) {\n      return wx.getStorageSync('userInfo')\n    } else {\n      let obj = {\n        success (res) {\n          // console.log(res)\n          wx.setStorageSync('userInfo', res.userInfo)\n          if (cb) {\n            cb()\n          }\n        }\n      }\n      return this.getUserInfo(obj)\n    }\n  },\n  // 设置用户的缓存信息\n  su (key, obj) {\n    wx.setStorageSync(key, obj)\n  },\n  // 获取消息数量\n  getMessageCount (that) {\n    let self = this\n    let _this = that\n    let gmc = {\n      url: useUrl.getNotReadMessage,\n      data: {\n        session_key: self.gs()\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.code === 200) {\n          _this.setData({\n            mCount: res.data.data.count\n          })\n        }\n      }\n    }\n    this.wxrequest(gmc)\n  },\n  // 输入内容\n  inputValue (e, that, cb) {\n    let value = e.detail.value\n    let type = e.currentTarget.dataset.type\n    if (type === 'loginInput') {\n      that.setData({\n        loginInput: value // 登录输入\n      })\n    } else if (type === 'pwd') {\n      that.setData({\n        pwd: value // 密码输入\n      })\n      if (cb) {\n        cb(that)\n      }\n    } else if (type === 'money') {\n      that.setData({\n        money: value\n      })\n      if (cb) {\n        cb(that)\n      }\n    } else if (type === 'name') {\n      that.setData({\n        name: value // 姓名\n      })\n    } else if (type === 'phone') {\n      that.setData({\n        phone: value // 手机号码\n      })\n    } else if (type === 'idCard') {\n      that.setData({\n        idCard: value // 身份证号码\n      })\n    } else if (type === 'contentTwo') {\n      that.setData({\n        contentTwo: value // 翻译\n      })\n    } else if (type === 'buddingText') {\n      that.setData({\n        buddingText: value // 我要配音\n      })\n    } else if (type === 'content') {\n      that.setData({\n        content: value\n      })\n    } else if (type === 'contentOne') {\n      that.setData({\n        contentOne: value\n      })\n    }\n  },\n  // 跳转绘本详情\n  goHBdetail (e) {\n    wx.navigateTo({\n      url: `../hbDetail/hbDetail?id=${e.currentTarget.dataset.id}&title=${e.currentTarget.dataset.title}`\n    })\n  },\n  // 手机号码验证\n  checkMobile (mobile) {\n    if (!(/^1[3|4|5|7|8][0-9]\\d{8}$/.test(mobile))) {\n      return true\n    }\n  },\n  // 信息弹窗\n  setToast (that, toast, time) {\n    let defaultToast = {\n      image: '../../images/jiong.png',\n      show: true,\n      bgc: '#fff',\n      color: '#000'\n    }\n    Object.assign(defaultToast, toast)\n    that.setData({\n      toast: defaultToast\n    })\n    setTimeout(() => {\n      defaultToast.show = false\n      that.setData({\n        toast: defaultToast\n      })\n    }, (time || 1500))\n  },\n  // 设置公众号弹窗\n  setGzh (that, gzh) {\n    let defaultToast = {\n      image: '../../images/gzh.png',\n      name: '群消息',\n      show: true\n    }\n    Object.assign(defaultToast, gzh)\n    wx.setClipboardData({\n      data: defaultToast.name\n    })\n    that.setData({\n      gzh: defaultToast\n    })\n  },\n  // 关闭公众号弹窗\n  closeGzh (that) {\n    that.data.gzh.show = false\n    that.setData({\n      gzh: that.data.gzh\n    })\n  },\n  // 预览图片\n  showImg (e, imgArr) {\n    let index = e.currentTarget.dataset.index\n    wx.previewImage({\n      current: imgArr[index],\n      urls: imgArr\n    })\n  },\n  // 跳转方式判断\n  gn (url) {\n    if (getCurrentPages().length >= 5) {\n      wx.redirectTo({\n        url\n      })\n    } else {\n      wx.navigateTo({\n        url\n      })\n    }\n  },\n  // 设置顶部文字\n  setBar (text) {\n    wx.setNavigationBarTitle({\n      title: text\n    })\n  },\n  // 逆地址解析\n  getLocation (that, type, cb) {\n    this.reverseGeocoder(that, type, cb)\n  },\n  // 获取请求路劲\n  getUrl () {\n    return useUrl\n  },\n  // 跳转搜索\n  search (type, content) {\n    wx.navigateTo({\n      url: `../heightBudding/heightBudding?type=${type}&content=${content}`\n    })\n  },\n  // 逆地址解析执行\n  // reverseGeocoder (that, type = true, cb) {\n  //   let _that = this\n  //   qqmapsdk = new QQMapWX({\n  //     key: qqmapsdkkey\n  //   })\n  //   console.log(type)\n  //   let obj = {\n  //     success (res) {\n  //       if (cb) {\n  //         cb(res)\n  //       }\n  //       that.setData({\n  //         address: res.result.address,\n  //         location: res.result.location\n  //       })\n  //     },\n  //     fail (res) {\n  //       if (!type) {\n  //         return wx.showToast({\n  //           title: '未选择获取地址位置'\n  //         })\n  //       }\n  //       wx.showToast({\n  //         title: '请授权后再次点击'\n  //       })\n  //       setTimeout(function () {\n  //         let settingObj = {\n  //           success (res) {\n  //             // 授权失败\n  //             if (!res.authSetting['scope.userLocation']) {\n  //               wx.showToast({\n  //                 title: '请允许获取您的地理位置信息',\n  //                 mask: true\n  //               })\n  //               setTimeout(function () {\n  //                 return _that.reverseGeocoder(that, cb)\n  //               }, 1000)\n  //             } else {\n  //               // 授权成功\n  //               return _that.reverseGeocoder(that, cb)\n  //             }\n  //           },\n  //           fail (res) {\n  //             console.log(res)\n  //           }\n  //         }\n  //         wx.openSetting(settingObj)\n  //       }, 1000)\n  //     }\n  //   }\n  //   qqmapsdk.reverseGeocoder(obj)\n  // },\n  /**\n   * 生命周期函数--监听小程序初始化\n   * 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）\n   */\n  onLaunch () {\n//     console.log(`\n//   ┏┛┻━━━┛┻┓\n//   ┃｜｜｜｜｜｜｜┃\n//   ┃　　　━　　　┃\n//   ┃　┳┛　┗┳　┃\n//   ┃　　　　　　　┃\n//   ┃　　　┻　　　┃\n//   ┃　　　　　　　┃\n//   ┗━┓　　　┏━┛\n//   　　┃　史　┃\n//   　　┃　诗　┃\n//   　　┃　之　┃\n//   　　┃　宠　┃\n//   　　┃　　　┗━━━━━━┓\n//   　　┃　　　神兽坐镇　　　┣━━┓\n//   　　┃　　　永不宕机　　　┃\n//   　　┗┓┓┏━┳┓┏━━━┛\n//   　　　┃┫┫　┃┫┫\n//   　　　┗┻┛　┗┻┛\n// `)\n    // console.log(' ========== Application is launched ========== ')\n    // this.wxlogin()\n  },\n  /**\n   * 生命周期函数--监听小程序显示\n   * 当小程序启动，或从后台进入前台显示，会触发 onShow\n   */\n  onShow () {\n    // console.log(' ========== Application is showed ========== ')\n  },\n  /**\n   * 生命周期函数--监听小程序隐藏\n   * 当小程序从前台进入后台，会触发 onHide\n   */\n  onHide () {\n    // console.log(' ========== Application is hid ========== ')\n  }\n})\n"]}