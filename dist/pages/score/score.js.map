{"version":3,"sources":["pages/score/score.js"],"names":["app","getApp","Page","data","listArr","page","getDetail","that","wxrequest","url","getUrl","myintegra","session3rd","gs","success","res","wx","hideLoading","code","list","v","time","Date","toLocaleString","setData","set","get","concat","more","length","setToast","content","msg","close","small","setTimeout","show","onLoad","optiosn","score","onReachBottom","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;;AAEA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,aAAS,EADL;AAEJC,UAAM,CAAC;AAFH,GAJH;AAQHC,WARG,uBAQU;AACX,QAAIC,OAAO,IAAX;AACAP,QAAIQ,SAAJ,CAAc;AACZC,WAAKT,IAAIU,MAAJ,GAAaC,SADN;AAEZR,YAAM;AACJS,oBAAYZ,IAAIa,EAAJ,EADR;AAEJR,cAAM,EAAE,KAAKF,IAAL,CAAUE;AAFd,OAFM;AAMZS,aANY,mBAMHC,GANG,EAME;AACZC,WAAGC,WAAH;AACA,YAAIF,IAAIZ,IAAJ,CAASe,IAAT,KAAkB,KAAtB,EAA6B;AAAA;AAAA;AAAA;;AAAA;AAC3B,iCAAcH,IAAIZ,IAAJ,CAASA,IAAT,CAAcgB,IAA5B,8HAAkC;AAAA,kBAAzBC,CAAyB;;AAChCA,gBAAEC,IAAF,GAAS,IAAIC,IAAJ,CAASF,EAAEC,IAAF,GAAS,IAAlB,EAAwBE,cAAxB,EAAT;AACD;AAH0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAI3BhB,eAAKiB,OAAL,CAAa;AACXC,iBAAKV,IAAIZ,IAAJ,CAASA,IAAT,CAAcsB,GADR;AAEXC,iBAAKX,IAAIZ,IAAJ,CAASA,IAAT,CAAcuB,GAFR;AAGXtB,qBAASG,KAAKJ,IAAL,CAAUC,OAAV,CAAkBuB,MAAlB,CAAyBZ,IAAIZ,IAAJ,CAASA,IAAT,CAAcgB,IAAvC,CAHE;AAIXS,kBAAMb,IAAIZ,IAAJ,CAASA,IAAT,CAAc0B,MAAd,GAAuB,EAAvB,GAA4B,CAA5B,GAAgC;AAJ3B,WAAb;AAMD,SAVD,MAUO;AACL7B,cAAI8B,QAAJ,CAAavB,IAAb,EAAmB,EAACwB,SAAShB,IAAIZ,IAAJ,CAAS6B,GAAnB,EAAnB;AACD;AACF;AArBW,KAAd;AAuBD,GAjCE;;AAkCH;AACAC,OAnCG,mBAmCM;AAAA;;AACP,QAAI,KAAK9B,IAAL,CAAU+B,KAAd,EAAqB;AACrB,SAAKV,OAAL,CAAa;AACXU,aAAO;AADI,KAAb;AAGAC,eAAW,YAAM;AACf,YAAKX,OAAL,CAAa;AACXY,cAAM;AADK,OAAb;AAGD,KAJD,EAIG,GAJH;AAKD,GA7CE;AA8CHA,MA9CG,kBA8CK;AACN,SAAKZ,OAAL,CAAa;AACXY,YAAM,IADK;AAEXF,aAAO;AAFI,KAAb;AAID,GAnDE;;AAoDH;;;AAGAG,QAvDG,kBAuDKC,OAvDL,EAuDc;AACf,SAAKd,OAAL,CAAa;AACXe,aAAOD,QAAQC;AADJ,KAAb;AAGA,SAAKjC,SAAL;AACA;AACD,GA7DE;AA8DHkC,eA9DG,2BA8Dc;AACf,QAAI,CAAC,KAAKrC,IAAL,CAAUyB,IAAf,EAAqB,OAAO5B,IAAI8B,QAAJ,CAAa,IAAb,EAAmB,EAACC,SAAS,UAAV,EAAnB,CAAP;AACrB,SAAKzB,SAAL;AACD,GAjEE;;AAkEH;;;AAGAmC,SArEG,qBAqEQ;AACT;AACD,GAvEE;;;AAyEH;;;AAGAC,QA5EG,oBA4EO;AACR;AACD,GA9EE;;;AAgFH;;;AAGAC,QAnFG,oBAmFO;AACR;AACD,GArFE;;;AAuFH;;;AAGAC,UA1FG,sBA0FS;AACV;AACD,GA5FE;;;AA8FH;;;AAGAC,mBAjGG,+BAiGkB;AACnB;AACD;AAnGE,CAAL","file":"score.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    listArr: [],\n    page: -1\n  },\n  getDetail () {\n    let that = this\n    app.wxrequest({\n      url: app.getUrl().myintegra,\n      data: {\n        session3rd: app.gs(),\n        page: ++this.data.page\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.code === '200') {\n          for (let v of res.data.data.list) {\n            v.time = new Date(v.time * 1000).toLocaleString()\n          }\n          that.setData({\n            set: res.data.data.set,\n            get: res.data.data.get,\n            listArr: that.data.listArr.concat(res.data.data.list),\n            more: res.data.data.length < 10 ? 0 : 1\n          })\n        } else {\n          app.setToast(that, {content: res.data.msg})\n        }\n      }\n    })\n  },\n  // 关闭规则\n  close () {\n    if (this.data.small) return\n    this.setData({\n      small: true\n    })\n    setTimeout(() => {\n      this.setData({\n        show: false\n      })\n    }, 500)\n  },\n  show () {\n    this.setData({\n      show: true,\n      small: false\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (optiosn) {\n    this.setData({\n      score: optiosn.score\n    })\n    this.getDetail()\n    // TODO: onLoad\n  },\n  onReachBottom () {\n    if (!this.data.more) return app.setToast(this, {content: '您没有更多信息啦'})\n    this.getDetail()\n  },\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}