{"version":3,"sources":["pages/user/user.js"],"names":["app","getApp","Page","data","img","call","userInfo","kefu_tel","getUser","that","wxrequest","url","getUrl","user","session3rd","gs","success","res","wx","hideLoading","code","setData","setToast","content","msg","getCouponData","mycoupon","couponCount","wsy","length","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;;AAEA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,SAAK;AADD,GAJH;AAOHC,MAPG,kBAOK;AACNL,QAAIK,IAAJ,CAAS,KAAKF,IAAL,CAAUG,QAAV,CAAmBC,QAA5B;AACD,GATE;AAUHC,SAVG,qBAUQ;AACT,QAAIC,OAAO,IAAX;AACAT,QAAIU,SAAJ,CAAc;AACZC,WAAKX,IAAIY,MAAJ,GAAaC,IADN;AAEZV,YAAM;AACJW,oBAAYd,IAAIe,EAAJ;AADR,OAFM;AAKZC,aALY,mBAKHC,GALG,EAKE;AACZC,WAAGC,WAAH;AACA,YAAIF,IAAId,IAAJ,CAASiB,IAAT,KAAkB,KAAtB,EAA6B;AAC3BX,eAAKY,OAAL,CAAa;AACXf,sBAAUW,IAAId,IAAJ,CAASA;AADR,WAAb;AAGD,SAJD,MAIO;AACLH,cAAIsB,QAAJ,CAAab,IAAb,EAAmB,EAACc,SAASN,IAAId,IAAJ,CAASqB,GAAnB,EAAnB;AACD;AACF;AAdW,KAAd;AAgBD,GA5BE;AA6BHC,eA7BG,2BA6Bc;AACf,QAAIhB,OAAO,IAAX;AACAT,QAAIU,SAAJ,CAAc;AACZC,WAAKX,IAAIY,MAAJ,GAAac,QADN;AAEZvB,YAAM;AACJW,oBAAYd,IAAIe,EAAJ;AADR,OAFM;AAKZC,aALY,mBAKHC,GALG,EAKE;AACZC,WAAGC,WAAH;AACA,YAAIF,IAAId,IAAJ,CAASiB,IAAT,KAAkB,KAAtB,EAA6B;AAC3BX,eAAKY,OAAL,CAAa;AACXM,yBAAaV,IAAId,IAAJ,CAASA,IAAT,CAAcyB,GAAd,CAAkBC;AADpB,WAAb;AAGD,SAJD,MAIO;AACL7B,cAAIsB,QAAJ,CAAab,IAAb,EAAmB,EAACc,SAASN,IAAId,IAAJ,CAASqB,GAAnB,EAAnB;AACD;AACF;AAdW,KAAd;AAgBD,GA/CE;;AAgDH;;;AAGAM,QAnDG,oBAmDO;AACR;AACD,GArDE;;;AAuDH;;;AAGAC,SA1DG,qBA0DQ;AACT;AACD,GA5DE;;;AA8DH;;;AAGAC,QAjEG,oBAiEO;AACR,SAAKP,aAAL;AACA,SAAKjB,OAAL;AACA;AACD,GArEE;;;AAuEH;;;AAGAyB,QA1EG,oBA0EO;AACR;AACD,GA5EE;;;AA8EH;;;AAGAC,UAjFG,sBAiFS;AACV;AACD,GAnFE;;;AAqFH;;;AAGAC,mBAxFG,+BAwFkB;AACnB;AACD;AA1FE,CAAL","file":"user.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg'\n  },\n  call () {\n    app.call(this.data.userInfo.kefu_tel)\n  },\n  getUser () {\n    let that = this\n    app.wxrequest({\n      url: app.getUrl().user,\n      data: {\n        session3rd: app.gs()\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.code === '200') {\n          that.setData({\n            userInfo: res.data.data\n          })\n        } else {\n          app.setToast(that, {content: res.data.msg})\n        }\n      }\n    })\n  },\n  getCouponData () {\n    let that = this\n    app.wxrequest({\n      url: app.getUrl().mycoupon,\n      data: {\n        session3rd: app.gs()\n      },\n      success (res) {\n        wx.hideLoading()\n        if (res.data.code === '200') {\n          that.setData({\n            couponCount: res.data.data.wsy.length\n          })\n        } else {\n          app.setToast(that, {content: res.data.msg})\n        }\n      }\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    this.getCouponData()\n    this.getUser()\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}